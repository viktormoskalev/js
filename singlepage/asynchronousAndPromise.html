<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>asynchronous </title>
  <style>
    body {
      text-align: center;
    }
    .print {
      font-size: 50px;
    }
  </style>
</head>

<body>
  <h1>Asynchronous , Promise</h1>
  <div class=" print print1">5</div>
   <button onClick="window.location.reload()"> restart</button>
  <div class="print print2"></div>
  <script>
    function callback() {
      let i = 5;
      return function(obj) {
        document.querySelector(obj).innerText = i;
        i--;
        if (i == 0) {
          clearInterval(stop1);
        }
      }
    }
    const print = callback();
    const stop1 = setInterval(print, 500, ".print1")

    let txt = 0;
    const promise1 = new Promise((resolve, reject) => {
      setTimeout(function() {
        resolve(txt = "Таймер отработал, текст появился по завершению");
      }, 2600);
    });
    promise1.then(() => {
      document.querySelector(".print2").innerText = txt;
    });
  </script>
</body>

</html>